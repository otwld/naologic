<div ngbDropdown (openChange)="openChange($event)" class="d-inline-block">
  <button
    type="button"
    class="bg-[#F3F4F9] rounded px-2 text-[#3E40DB] after:hidden leading-loose font-medium"
    [class.!bg-red-100]="control().invalid && control().touched"
    [class.!bg-[#F1F2FC]]="control().value"
    [class.opacity-75]="control().disabled"
    ngbDropdownToggle
    [ngbTooltip]="control().invalid && control().touched ? tooltip : null"
  >
    @if (control().value) {
    {{ toName(control().value) }}
    } @else {
    <span class="text-[#687196]">{{ placeholder() }}</span>
    }
  </button>
  <div ngbDropdownMenu class="px-2">
    @for (option of options(); track option.value) {
    <button
      class="even:bg-[#F5F6FA] rounded font-medium hover:bg-[#E5E7FF] focus-within:bg-[#E5E7FF] focus-within:outline-0"
      [class.text-[#3E40DB]]="control().value === option.value"
      [class.!bg-[#E5E7FF]]="control().value === option.value"
      ngbDropdownItem
      (click)="control().setValue(option.value)"
    >
      {{ option.name }}
    </button>
    }
  </div>
</div>

<ng-template #tooltip>
  <lib-error-list [errors]="control().errors || []"></lib-error-list>
</ng-template>
